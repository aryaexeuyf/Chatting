<!DOCTYPE html>
<html>
<head>
    <title>Test Firebase Connection</title>
</head>
<body>
    <h1>🔥 Test Firebase Connection</h1>
    <div id="status" style="padding: 20px; background: #ffcccc; border-radius: 10px;">
        Testing connection...
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    
    <script>
        // Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyDmRXVOtr8PWq2BZgb_j6QpvCCZQwYAJVI",
            authDomain: "koneksi-b3262.firebaseapp.com",
            databaseURL: "https://koneksi-b3262-default-rtdb.firebaseio.com",
            projectId: "koneksi-b3262",
            storageBucket: "koneksi-b3262.firebasestorage.app",
            messagingSenderId: "131578716927",
            appId: "1:131578716927:web:69704bade5ffdb23d4a2ca",
            measurementId: "G-C3X0E51W7Q"
        };

        // Initialize Firebase
        try {
            const app = firebase.initializeApp(firebaseConfig);
            const database = firebase.database();
            
            const status = document.getElementById('status');
            status.innerHTML = "✅ Firebase initialized! Testing connection...";

            // Test connection
            const connectedRef = database.ref(".info/connected");
            connectedRef.on("value", function(snap) {
                if (snap.val() === true) {
                    status.innerHTML = "🎉 BERHASIL TERHUBUNG ke Firebase!";
                    status.style.background = "#ccffcc";
                    
                    // Test write data
                    database.ref('test').set({
                        message: 'Hello from test',
                        timestamp: new Date().toISOString()
                    }).then(() => {
                        status.innerHTML += "<br>✅ Write data berhasil!";
                    });
                } else {
                    status.innerHTML = "❌ GAGAL terhubung ke Firebase";
                    status.style.background = "#ffcccc";
                }
            });

        } catch (error) {
            document.getElementById('status').innerHTML = "❌ Error: " + error.message;
        }
    </script>
</body>
</html>
